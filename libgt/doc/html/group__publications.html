<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GuardTime Client SDK 0.3: Publications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Publications</h1>  </div>
</div>
<div class="contents">

<p>Functions to decode and validate the information in GuardTime electronic publications.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_t_pub_file_verification_info__st.html">GTPubFileVerificationInfo_st</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents verification info of a publications file.  <a href="struct_g_t_pub_file_verification_info__st.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
GTPublicationsFile_st&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9f0ecc8c6bd1cad3c039c6914c138783"></a><!-- doxytag: member="publications::GTPubFileVerificationInfo" ref="ga9f0ecc8c6bd1cad3c039c6914c138783" args="" -->
typedef struct <br class="typebreak"/>
<a class="el" href="struct_g_t_pub_file_verification_info__st.html">GTPubFileVerificationInfo_st</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#ga9f0ecc8c6bd1cad3c039c6914c138783">GTPubFileVerificationInfo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents verification info of a publications file. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#ga2f0755e9ef1686ca255098a9c3f2de8a">GTPublicationsFile_DERDecode</a> (const void *data, size_t data_length, <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> **publications_file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#gac7154e5bda48840a583100dfa5a8393b">GTPublicationsFile_getByIndex</a> (const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *publications_file, unsigned int publication_index, char **publication)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#ga37390311c583fe0ecc6871db4b4b8f05">GTPublicationsFile_getKeyHashByIndex</a> (const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *publications_file, unsigned int key_hash_index, char **key_hash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#gac3eccc436ce6e5114346b9135b616fc9">GTPublicationsFile_verify</a> (const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *publications_file, <a class="el" href="struct_g_t_pub_file_verification_info__st.html">GTPubFileVerificationInfo</a> **verification_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#ga585049b56c3445dab5b099b98734693c">GTPublicationsFile_free</a> (<a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *publications_file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#ga2de8433bddcaf74efc7d90f6ab1d52f7">GTPublicationsFile_extractTimeFromRawPublication</a> (const char *publication, <a class="el" href="group__common.html#ga4cc54826c21e0ed438d8e35be7039328">GT_Time_t64</a> *publication_time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__publications.html#gaea9337f5fb77d0bc0f9c1159c369df61">GTPubFileVerificationInfo_free</a> (<a class="el" href="struct_g_t_pub_file_verification_info__st.html">GTPubFileVerificationInfo</a> *verification_info)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Publications are what nail timestamps down in time: they are hash sums published in tangible media so if a timestamp can prove its participation through hashing in a publication, it also proves that it existed before that hash sum was published. GuardTime publications are printed in major newspapers across the world which makes it extremely unlikely that someone manages to destroy or falsify all copies of any given publication.</p>
<p>There are essentially three ways to acquire a publication the timestamp at hand should be connected to:</p>
<ul>
<li>extract the publication value from the timestamp and compare it to a publication in a newspaper; since the tangible sources are hard to contaminate, this is the most secure method;</li>
<li>fetch an up to date publications file from an authenticated source; as the file contains publications up until the current date on which many other verifiers would be continuously dependent on, this is also a good method;</li>
<li>use an archived authenticated publication file; this may not be so good, as someone may have tampered with the archival copy.</li>
</ul>
<p>Create a <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> object by feeding the bytes containing the DER-encoded publication file to the <a class="el" href="group__publications.html#ga2f0755e9ef1686ca255098a9c3f2de8a">GTPublicationsFile_DERDecode()</a>. The <a class="el" href="group__publications.html#gac3eccc436ce6e5114346b9135b616fc9">GTPublicationsFile_verify()</a> method can then be used to verify the integrity of the publications file. The range of publications contained in a particular file can be retrieved by consulting GTPubFileVerificationInfo::first_publication_time and GTPubFileVerificationInfo::last_publication_time.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__verification.html">Verification</a></dd></dl>
<p>The functions described in this group are declared in the <code><a class="el" href="gt__base_8h.html" title="GuardTime client SDK, public header file for base functions.">gt_base.h</a></code> header file and implemented in the <code>libgtbase</code> library. For more implementation and usage details, see the notes for the header file. </p>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="gacf561fdbce4067eb94bd9761a71e7e5a"></a><!-- doxytag: member="gt_base.h::GTPublicationsFile" ref="gacf561fdbce4067eb94bd9761a71e7e5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct GTPublicationsFile_st <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This opaque structure represents a publications file. Use the <a class="el" href="group__publications.html#gac3eccc436ce6e5114346b9135b616fc9">GTPublicationsFile_verify()</a>, <a class="el" href="group__publications.html#gac7154e5bda48840a583100dfa5a8393b">GTPublicationsFile_getByIndex()</a>, <a class="el" href="group__publications.html#ga37390311c583fe0ecc6871db4b4b8f05">GTPublicationsFile_getKeyHashByIndex()</a> functions to extract details from it. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaea9337f5fb77d0bc0f9c1159c369df61"></a><!-- doxytag: member="gt_base.h::GTPubFileVerificationInfo_free" ref="gaea9337f5fb77d0bc0f9c1159c369df61" args="(GTPubFileVerificationInfo *verification_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTPubFileVerificationInfo_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_t_pub_file_verification_info__st.html">GTPubFileVerificationInfo</a> *&#160;</td>
          <td class="paramname"> <em>verification_info</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees memory used by publications file verification info.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">verification_info</td><td><code></code>(in) - <code>GTPubFileVerificationInfo</code> object that is to be freed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__common.html#ga0446e9253011a921665126e9f37016a1">GT_free()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga2f0755e9ef1686ca255098a9c3f2de8a"></a><!-- doxytag: member="gt_base.h::GTPublicationsFile_DERDecode" ref="ga2f0755e9ef1686ca255098a9c3f2de8a" args="(const void *data, size_t data_length, GTPublicationsFile **publications_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTPublicationsFile_DERDecode </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>data_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> **&#160;</td>
          <td class="paramname"> <em>publications_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decodes publications file from given byte string.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td><code></code>(in) - Pointer to buffer containing DER-encoded publications file. </td></tr>
    <tr><td class="paramname">data_length</td><td><code></code>(in) - Size of buffer pointed by <code>data</code>. </td></tr>
    <tr><td class="paramname">publications_file</td><td><code></code>(out) - Pointer that will receive pointer to decoded publications file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="ga2de8433bddcaf74efc7d90f6ab1d52f7"></a><!-- doxytag: member="gt_base.h::GTPublicationsFile_extractTimeFromRawPublication" ref="ga2de8433bddcaf74efc7d90f6ab1d52f7" args="(const char *publication, GT_Time_t64 *publication_time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTPublicationsFile_extractTimeFromRawPublication </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>publication</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__common.html#ga4cc54826c21e0ed438d8e35be7039328">GT_Time_t64</a> *&#160;</td>
          <td class="paramname"> <em>publication_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extracts publication time from human readable publication string.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">publication</td><td><code></code>(in) Pointer to human readable publication value. </td></tr>
    <tr><td class="paramname">publication_time</td><td><code></code>(out) Pointer to the variable that receives publication time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="ga585049b56c3445dab5b099b98734693c"></a><!-- doxytag: member="gt_base.h::GTPublicationsFile_free" ref="ga585049b56c3445dab5b099b98734693c" args="(GTPublicationsFile *publications_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTPublicationsFile_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *&#160;</td>
          <td class="paramname"> <em>publications_file</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees memory used by the publications file structure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">publications_file</td><td><code></code>(in) - <code>GTPublicationsFile</code> object that is to be freed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__common.html#ga0446e9253011a921665126e9f37016a1">GT_free()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gac7154e5bda48840a583100dfa5a8393b"></a><!-- doxytag: member="gt_base.h::GTPublicationsFile_getByIndex" ref="gac7154e5bda48840a583100dfa5a8393b" args="(const GTPublicationsFile *publications_file, unsigned int publication_index, char **publication)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTPublicationsFile_getByIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *&#160;</td>
          <td class="paramname"> <em>publications_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"> <em>publication_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"> <em>publication</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extracts publication with the given index from the publications file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">publications_file</td><td><code></code>(in) - Publications file to extract from. </td></tr>
    <tr><td class="paramname">publication_index</td><td><code></code>(in) - Index of the publication to extract. </td></tr>
    <tr><td class="paramname">publication</td><td><code></code>(out) - Pointer to the pointer receiving extracted human readable publication value as an ordinary C-string on success. This value must be freed with <a class="el" href="group__common.html#ga0446e9253011a921665126e9f37016a1">GT_free()</a> later when not needed anymore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="ga37390311c583fe0ecc6871db4b4b8f05"></a><!-- doxytag: member="gt_base.h::GTPublicationsFile_getKeyHashByIndex" ref="ga37390311c583fe0ecc6871db4b4b8f05" args="(const GTPublicationsFile *publications_file, unsigned int key_hash_index, char **key_hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTPublicationsFile_getKeyHashByIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *&#160;</td>
          <td class="paramname"> <em>publications_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"> <em>key_hash_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"> <em>key_hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function returns published key hash with index <code>key_hash_index</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">publications_file</td><td><code></code>(in) - Pointer to publications file. </td></tr>
    <tr><td class="paramname">key_hash_index</td><td><code></code>(in) - Index of published key hash. </td></tr>
    <tr><td class="paramname">key_hash</td><td><code></code>(out) - The output string of published key hash, must be disposed of after use with <a class="el" href="group__common.html#ga0446e9253011a921665126e9f37016a1">GT_free()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="gac3eccc436ce6e5114346b9135b616fc9"></a><!-- doxytag: member="gt_base.h::GTPublicationsFile_verify" ref="gac3eccc436ce6e5114346b9135b616fc9" args="(const GTPublicationsFile *publications_file, GTPubFileVerificationInfo **verification_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTPublicationsFile_verify </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *&#160;</td>
          <td class="paramname"> <em>publications_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_g_t_pub_file_verification_info__st.html">GTPubFileVerificationInfo</a> **&#160;</td>
          <td class="paramname"> <em>verification_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Verifies signature of the published file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">publications_file</td><td><code></code>(in) - Publications file that is to be verified. </td></tr>
    <tr><td class="paramname">verification_info</td><td><code></code>(out) - Pointer that will receive pointer to publications file verification info. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 7 2010 16:12:24 for GuardTime Client SDK 0.3 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
