<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GuardTime Client SDK 0.3: gt_http.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>gt_http.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>GuardTime client SDK, public header file for HTTP transport module.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="gt__base_8h.html">gt_base.h</a>&quot;</code><br/>
<code>#include &lt;stddef.h&gt;</code><br/>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gacf85f4c0d316a03db66a8ef24ddf3411">GTHTTP_VERSION</a>&#160;&#160;&#160;(0 &lt;&lt; 24 | 3 &lt;&lt; 16 | 8)</td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga9f42032eb2905e40ee6fe84e0dfc03c2">GTHTTPStatusCode</a> { <br/>
&#160;&#160;<a class="el" href="group__http.html#gga9f42032eb2905e40ee6fe84e0dfc03c2a26adede81bf1a9366ba5c694071e7f7c">GTHTTP_HTTP_LIMIT</a> =  0x1000, 
<br/>
&#160;&#160;<a class="el" href="group__http.html#gga9f42032eb2905e40ee6fe84e0dfc03c2a196935519731c1937ef788ec01bf8e36">GTHTTP_HTTP_BASE</a> =  GTHTTP_LOWEST, 
<br/>
&#160;&#160;<a class="el" href="group__http.html#gga9f42032eb2905e40ee6fe84e0dfc03c2a85676a04ec8467d5f486dbbb33b63a79">GTHTTP_IMPL_BASE</a> =  GTHTTP_HTTP_BASE + GTHTTP_HTTP_LIMIT
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gadab3f065f857d5187ab911da1c5c6978">GTHTTP_init</a> (const char *user_agent, int init_winsock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gaf4f64a13a6af9a162dfc39c011c2f812">GTHTTP_finalize</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga3df4ff0f34f540e640e0cc2b7610d921">GTHTTP_getErrorString</a> (int error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gaf8fed890ccd3245cc91dcf656f969f6f">GTHTTP_getVersion</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gae918254645884f0dedd5960980c1c632">GTHTTP_setConnectTimeout</a> (int timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gafc28fbcfb83b8ca6a82053e6bcbcbc04">GTHTTP_getConnectTimeout</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga2144f61afab48c756df3441da928c53e">GTHTTP_setResponseTimeout</a> (int timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga5265b911e2549b97bf67979fe8026098">GTHTTP_getResponseTimeout</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gad6158faeb4747293308cffe102bd9b2d">GTHTTP_sendRequest</a> (const char *url, const unsigned char *request, size_t request_length, unsigned char **response, size_t *response_length, char **error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga4e3e8302dd412eed484c83f600006dca">GTHTTP_createTimestampHash</a> (const <a class="el" href="struct_g_t_message_digest__st.html">GTDataHash</a> *hash, const char *url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **timestamp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga5567c03e03f48709c529dfb323d92a96">GTHTTP_createTimestampData</a> (const unsigned char *data, size_t data_len, const char *url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **timestamp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gaaad2bfa8db7c4770116197d50fb73b76">GTHTTP_extendTimestamp</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *ts_in, const char *url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **ts_out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga29c56b103ec317445b65f4ed80028313">GTHTTP_verifyTimestampHash</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *ts, const <a class="el" href="struct_g_t_message_digest__st.html">GTDataHash</a> *hash, const char *ext_url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **ext_ts, const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *pub, const char *pub_url, int parse, <a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> **ver)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gab5486f6fb276f651ced2fa029bace0f2">GTHTTP_verifyTimestampData</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *ts, const unsigned char *data, size_t data_len, const char *ext_url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **ext_ts, const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *pub, const char *pub_url, int parse, <a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> **ver)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gaa699442dc8eac0be397048e9287e7101">GTHTTP_getPublicationsFile</a> (const char *url, <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> **pub)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This module offers the functions to communicate with the GuardTime network over the HTTP protocol.</p>
<p>The three main functions are:</p>
<ul>
<li>creating a timestamp (the resulting PKI-signed timestamp can be verified using the GuardTime public key certificate);</li>
<li>extending a timestamp (the resulting hash-linked timestamp can be verified independently from GuardTime for unlimited time);</li>
<li>verifying a timestamp; the following diagram illustrates the decision process: <div align="center">
<img src="ApiVerifyTimestamp.png" alt="ApiVerifyTimestamp.png"/>
</div>
 </li>
</ul>
<h2>Usage</h2>
<p><b>Linux</b></p>
<p>The networking functions in this module rely on cURL. The use of the cURL code is covered by the license available online from <a href="http://curl.haxx.se/docs/copyright.html">curl.haxx.se/docs/copyright.html</a> and also enclosed in the file <code>licence.curl.txt</code>.</p>
<p>Multi-platform source code for cURL can be dowloaded from <a href="http://curl.haxx.se/">curl.haxx.se</a>. This version of the GuardTime SDK has been tested with cURL 7.18.1.</p>
<p>Although it's not difficult to compile cURL on Linux, most distributions also provide prebuilt binaries through their normal package management facilities. When installing a prebuilt package, make sure you pick a "developer" version, otherwise you may only get the tools and utilities, but no libraries or headers.</p>
<p>To compile a program that uses both the HTTP module and GuardTime base API, use a command along the lines of </p>
<div class="fragment"><pre class="fragment">    gcc example.c -o example -I/usr/local/gt/include \
    -L/usr/local/gt/lib -L/usr/local/curl/lib -L/usr/local/ssl/lib \
    -lgthttp -lgtbase -lcurl -lcrypto -lrt
</pre></div><p> (either with the backslashes or all on a single line) replacing <code>/usr/local/gt</code>, <code>/usr/local/curl</code> and <code>/usr/local/ssl</code> with the directories where you unpacked the GuardTime, cURL and OpenSSL libraries.</p>
<p><b>Windows</b></p>
<p>The networking functions in this module rely on WinINet, which comes standard on all supported versions of Windows.</p>
<p>To compile a program that uses both the HTTP module and GuardTime base API, use a command along the lines of </p>
<div class="fragment"><pre class="fragment">    cl.exe /MT example.c /I C:\gt\include
    /link /libpath:C:\gt\lib /libpath:C:\openssl\lib
    libgthttpMT.lib libgtbaseMT.lib libeay32MT.lib wininet.lib
    wsock32.lib wldap32.lib winmm.lib user32.lib gdi32.lib advapi32.lib
</pre></div><p> (all on a single line) replacing <code>C:\gt</code> and <code>C:\openssl</code> with the directories where you unpacked the GuardTime and OpenSSL libraries.</p>
<p>When compiling, keep in mind that mixing code compiled with different <code>/Mxx</code> settings is dangerous. It's best to always use the GuardTime and OpenSSL libraries that match the <code>/Mxx</code> setting you specified for compiling your own source code. </p>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 7 2010 16:12:24 for GuardTime Client SDK 0.3 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
