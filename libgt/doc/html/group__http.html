<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GuardTime Client SDK 0.3: HTTP transport</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>HTTP transport</h1>  </div>
</div>
<div class="contents">

<p>A simple HTTP transport implementation.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gacf85f4c0d316a03db66a8ef24ddf3411">GTHTTP_VERSION</a>&#160;&#160;&#160;(0 &lt;&lt; 24 | 3 &lt;&lt; 16 | 8)</td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga9f42032eb2905e40ee6fe84e0dfc03c2">GTHTTPStatusCode</a> { <br/>
&#160;&#160;<a class="el" href="group__http.html#gga9f42032eb2905e40ee6fe84e0dfc03c2a26adede81bf1a9366ba5c694071e7f7c">GTHTTP_HTTP_LIMIT</a> =  0x1000, 
<br/>
&#160;&#160;<a class="el" href="group__http.html#gga9f42032eb2905e40ee6fe84e0dfc03c2a196935519731c1937ef788ec01bf8e36">GTHTTP_HTTP_BASE</a> =  GTHTTP_LOWEST, 
<br/>
&#160;&#160;<a class="el" href="group__http.html#gga9f42032eb2905e40ee6fe84e0dfc03c2a85676a04ec8467d5f486dbbb33b63a79">GTHTTP_IMPL_BASE</a> =  GTHTTP_HTTP_BASE + GTHTTP_HTTP_LIMIT
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gadab3f065f857d5187ab911da1c5c6978">GTHTTP_init</a> (const char *user_agent, int init_winsock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gaf4f64a13a6af9a162dfc39c011c2f812">GTHTTP_finalize</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga3df4ff0f34f540e640e0cc2b7610d921">GTHTTP_getErrorString</a> (int error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gaf8fed890ccd3245cc91dcf656f969f6f">GTHTTP_getVersion</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gae918254645884f0dedd5960980c1c632">GTHTTP_setConnectTimeout</a> (int timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gafc28fbcfb83b8ca6a82053e6bcbcbc04">GTHTTP_getConnectTimeout</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga2144f61afab48c756df3441da928c53e">GTHTTP_setResponseTimeout</a> (int timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga5265b911e2549b97bf67979fe8026098">GTHTTP_getResponseTimeout</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gad6158faeb4747293308cffe102bd9b2d">GTHTTP_sendRequest</a> (const char *url, const unsigned char *request, size_t request_length, unsigned char **response, size_t *response_length, char **error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga4e3e8302dd412eed484c83f600006dca">GTHTTP_createTimestampHash</a> (const <a class="el" href="struct_g_t_message_digest__st.html">GTDataHash</a> *hash, const char *url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **timestamp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga5567c03e03f48709c529dfb323d92a96">GTHTTP_createTimestampData</a> (const unsigned char *data, size_t data_len, const char *url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **timestamp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gaaad2bfa8db7c4770116197d50fb73b76">GTHTTP_extendTimestamp</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *ts_in, const char *url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **ts_out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#ga29c56b103ec317445b65f4ed80028313">GTHTTP_verifyTimestampHash</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *ts, const <a class="el" href="struct_g_t_message_digest__st.html">GTDataHash</a> *hash, const char *ext_url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **ext_ts, const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *pub, const char *pub_url, int parse, <a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> **ver)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gab5486f6fb276f651ced2fa029bace0f2">GTHTTP_verifyTimestampData</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *ts, const unsigned char *data, size_t data_len, const char *ext_url, <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **ext_ts, const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *pub, const char *pub_url, int parse, <a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> **ver)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http.html#gaa699442dc8eac0be397048e9287e7101">GTHTTP_getPublicationsFile</a> (const char *url, <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> **pub)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The functions described in this group are declared in the <code><a class="el" href="gt__http_8h.html" title="GuardTime client SDK, public header file for HTTP transport module.">gt_http.h</a></code> header file and implemented in the <code>libgthttp</code> library. For more implementation and usage details, see the notes for the header file. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gacf85f4c0d316a03db66a8ef24ddf3411"></a><!-- doxytag: member="gt_http.h::GTHTTP_VERSION" ref="gacf85f4c0d316a03db66a8ef24ddf3411" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GTHTTP_VERSION&#160;&#160;&#160;(0 &lt;&lt; 24 | 3 &lt;&lt; 16 | 8)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Version number of the HTTP module, as a 4-byte integer, with the major number in the highest, minor number in the second highest and build number in the two lowest bytes. The preprocessor macro is included to enable conditional compilation.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__http.html#gaf8fed890ccd3245cc91dcf656f969f6f">GTHTTP_getVersion</a>, <a class="el" href="group__common.html#gafdac78985a08fc5052b1d1f2888a25c9">GT_VERSION</a> </dd></dl>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga9f42032eb2905e40ee6fe84e0dfc03c2"></a><!-- doxytag: member="gt_http.h::GTHTTPStatusCode" ref="ga9f42032eb2905e40ee6fe84e0dfc03c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__http.html#ga9f42032eb2905e40ee6fe84e0dfc03c2">GTHTTPStatusCode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>GuardTime status codes specific for the HTTP transport module.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__common.html#ga43b0c0f44bcf02caf0c2866b1f647a35">GTStatusCode</a>. </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga9f42032eb2905e40ee6fe84e0dfc03c2a26adede81bf1a9366ba5c694071e7f7c"></a><!-- doxytag: member="GTHTTP_HTTP_LIMIT" ref="gga9f42032eb2905e40ee6fe84e0dfc03c2a26adede81bf1a9366ba5c694071e7f7c" args="" -->GTHTTP_HTTP_LIMIT</em>&nbsp;</td><td>
<p>This is the limit on distinct HTTP response codes the GuardTime HTTP module can handle. Since it's a fair bit above the highest value defined by the W3C, we should be safe for quite some time. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9f42032eb2905e40ee6fe84e0dfc03c2a196935519731c1937ef788ec01bf8e36"></a><!-- doxytag: member="GTHTTP_HTTP_BASE" ref="gga9f42032eb2905e40ee6fe84e0dfc03c2a196935519731c1937ef788ec01bf8e36" args="" -->GTHTTP_HTTP_BASE</em>&nbsp;</td><td>
<p>This is the base value for response codes from the HTTP server. The response <code>xxx</code> is returned as <code></code>(GTHTTP_HTTP_BASE + xxx), where xxx must be &gt;0 and &lt;GTHTTP_HTTP_LIMIT; anything outside that range is replaced with 0 (and returned as GTHTTP_HTTP_BASE). </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9f42032eb2905e40ee6fe84e0dfc03c2a85676a04ec8467d5f486dbbb33b63a79"></a><!-- doxytag: member="GTHTTP_IMPL_BASE" ref="gga9f42032eb2905e40ee6fe84e0dfc03c2a85676a04ec8467d5f486dbbb33b63a79" args="" -->GTHTTP_IMPL_BASE</em>&nbsp;</td><td>
<p>This is the base value for error codes from the underlying transport library (cURL on Linux, WinINet on Windows) used to disambiguate them from the GuardTime error codes: the library error <code>err</code> is returned as <code></code>(GTHTTP_IMPL_BASE + err) from the GuardTime functions. Make sure nobody else uses the values in the range from <code>GTHTTP_IMPL_BASE</code> to <code>GTHTTP_HIGHEST</code> or else the error codes can't be resolved to error messages correctly. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga5567c03e03f48709c529dfb323d92a96"></a><!-- doxytag: member="gt_http.h::GTHTTP_createTimestampData" ref="ga5567c03e03f48709c529dfb323d92a96" args="(const unsigned char *data, size_t data_len, const char *url, GTTimestamp **timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_createTimestampData </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **&#160;</td>
          <td class="paramname"> <em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a timestamp for the given data bytes using the signing service on the given URL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td><code></code>(in) - The data to create the timestamp for. </td></tr>
    <tr><td class="paramname">data_len</td><td><code></code>(in) - Length of the data. </td></tr>
    <tr><td class="paramname">url</td><td><code></code>(in) - The signing service to use. </td></tr>
    <tr><td class="paramname">timestamp</td><td><code></code>(out) - Pointer that will receive pointer to the created timestamp. Use <a class="el" href="group__timestamps.html#gab765221df505f63b2155c08a63c62c0f">GTTimestamp_free()</a> to release the memory when done. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="ga4e3e8302dd412eed484c83f600006dca"></a><!-- doxytag: member="gt_http.h::GTHTTP_createTimestampHash" ref="ga4e3e8302dd412eed484c83f600006dca" args="(const GTDataHash *hash, const char *url, GTTimestamp **timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_createTimestampHash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_g_t_message_digest__st.html">GTDataHash</a> *&#160;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **&#160;</td>
          <td class="paramname"> <em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a timestamp for the given data hash using the signing service on the given URL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hash</td><td><code></code>(in) - The data hash to create the timestamp for. </td></tr>
    <tr><td class="paramname">url</td><td><code></code>(in) - The signing service to use. </td></tr>
    <tr><td class="paramname">timestamp</td><td><code></code>(out) - Pointer that will receive pointer to the created timestamp. Use <a class="el" href="group__timestamps.html#gab765221df505f63b2155c08a63c62c0f">GTTimestamp_free()</a> to release the memory when done. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="gaaad2bfa8db7c4770116197d50fb73b76"></a><!-- doxytag: member="gt_http.h::GTHTTP_extendTimestamp" ref="gaaad2bfa8db7c4770116197d50fb73b76" args="(const GTTimestamp *ts_in, const char *url, GTTimestamp **ts_out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_extendTimestamp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *&#160;</td>
          <td class="paramname"> <em>ts_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **&#160;</td>
          <td class="paramname"> <em>ts_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extends the given timestamp using the extending service on the given URL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ts_in</td><td><code></code>(in) - The timestamp to be extended. </td></tr>
    <tr><td class="paramname">url</td><td><code></code>(in) - The extending service to use. </td></tr>
    <tr><td class="paramname">ts_out</td><td><code></code>(out) - Pointer that will receive pointer to the newly created timestamp. Use <a class="el" href="group__timestamps.html#gab765221df505f63b2155c08a63c62c0f">GTTimestamp_free()</a> to release the memory when done. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="gaf4f64a13a6af9a162dfc39c011c2f812"></a><!-- doxytag: member="gt_http.h::GTHTTP_finalize" ref="gaf4f64a13a6af9a162dfc39c011c2f812" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTHTTP_finalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees the resources used by the HTTP module. Must be called once after any other HTTP functions.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>You most likely have to call <a class="el" href="group__common.html#ga3facfda504f40ddda537fcb91fc6c712">GT_finalize()</a> to clean up the base module as well. </dd></dl>

</div>
</div>
<a class="anchor" id="gafc28fbcfb83b8ca6a82053e6bcbcbc04"></a><!-- doxytag: member="gt_http.h::GTHTTP_getConnectTimeout" ref="gafc28fbcfb83b8ca6a82053e6bcbcbc04" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_getConnectTimeout </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the timeout for connecting to the server.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The timeout, in seconds. Zero means waiting forever (no timeout), negative means using the implementation default. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3df4ff0f34f540e640e0cc2b7610d921"></a><!-- doxytag: member="gt_http.h::GTHTTP_getErrorString" ref="ga3df4ff0f34f540e640e0cc2b7610d921" args="(int error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* GTHTTP_getErrorString </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>error</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets human readable error string in English.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td><code></code>(in) - Status code from a GuardTime HTTP function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the error string (it is static, don't try to free it).</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The functions in the HTTP module may relay status codes from the base module. This function can handle the relayed codes as well.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__common.html#gaf03ec60bbbf4da31f46e6420ec7bb3d4">GT_getErrorString()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaa699442dc8eac0be397048e9287e7101"></a><!-- doxytag: member="gt_http.h::GTHTTP_getPublicationsFile" ref="gaa699442dc8eac0be397048e9287e7101" args="(const char *url, GTPublicationsFile **pub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_getPublicationsFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> **&#160;</td>
          <td class="paramname"> <em>pub</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Downloads the publications file from the given URL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td><code></code>(in) - Publications file URL. </td></tr>
    <tr><td class="paramname">pub</td><td><code></code>(out) - Pointer that will receive pointer to the publications file. Use <a class="el" href="group__publications.html#ga585049b56c3445dab5b099b98734693c">GTPublicationsFile_free()</a> to release the memory when done. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="ga5265b911e2549b97bf67979fe8026098"></a><!-- doxytag: member="gt_http.h::GTHTTP_getResponseTimeout" ref="ga5265b911e2549b97bf67979fe8026098" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_getResponseTimeout </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the timeout for getting a response from the server.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The timeout, in seconds. Zero means waiting forever (no timeout), negative means using the implementation default. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf8fed890ccd3245cc91dcf656f969f6f"></a><!-- doxytag: member="gt_http.h::GTHTTP_getVersion" ref="gaf8fed890ccd3245cc91dcf656f969f6f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_getVersion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the version number of the library.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>version number of the HTTP module, as a 4-byte integer, with the major number in the highest, minor number in the second highest and build number in the two lowest bytes.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__http.html#gacf85f4c0d316a03db66a8ef24ddf3411">GTHTTP_VERSION</a>, <a class="el" href="group__common.html#ga29f20e0dcc653a818552d01aa8b02369">GT_getVersion</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gadab3f065f857d5187ab911da1c5c6978"></a><!-- doxytag: member="gt_http.h::GTHTTP_init" ref="gadab3f065f857d5187ab911da1c5c6978" args="(const char *user_agent, int init_winsock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>user_agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>init_winsock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the HTTP module. Must be called once before any other HTTP functions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">user_agent</td><td><code></code>(in) - If this is not <code>NULL</code>, it is reported to the service provider in order to help with server-side troubleshooting and statistics. It is recommended to include the application name and version number. </td></tr>
    <tr><td class="paramname">init_winsock</td><td><code></code>(in) - If this parameter is non-zero, then performs Windows socket initialization and cleanup. If this flag is zero, then the user must have initialized Windows sockets. On Unix systems, this parameter has no effect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code).</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>You most likely have to call <a class="el" href="group__common.html#gafb831f40c4486b882d9eef38d7c85f94">GT_init()</a> to initialize the base module as well. </dd></dl>

</div>
</div>
<a class="anchor" id="gad6158faeb4747293308cffe102bd9b2d"></a><!-- doxytag: member="gt_http.h::GTHTTP_sendRequest" ref="gad6158faeb4747293308cffe102bd9b2d" args="(const char *url, const unsigned char *request, size_t request_length, unsigned char **response, size_t *response_length, char **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_sendRequest </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>request_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"> <em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"> <em>response_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"> <em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sends a HTTP request.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td><code></code>(in) - URL to send the request to. </td></tr>
    <tr><td class="paramname">request</td><td><code></code>(in) - Pointer to the buffer containing the request. If <code>request</code> is <code>NULL</code>, a <code>GET</code> request is sent. If <code>request</code> is non-<code>NULL</code>, a <code>POST</code> request is sent. </td></tr>
    <tr><td class="paramname">request_length</td><td><code></code>(in) - Size of the buffer pointed by <code>request</code>. </td></tr>
    <tr><td class="paramname">response</td><td><code></code>(out) - Pointer that will receive pointer to the response. Use <a class="el" href="group__common.html#ga0446e9253011a921665126e9f37016a1">GT_free()</a> to release the memory when done. </td></tr>
    <tr><td class="paramname">response_length</td><td><code></code>(out) - Pointer to the variable that receives the length of the response. </td></tr>
    <tr><td class="paramname">error</td><td><code></code>(out) - Pointer that will receive pointer to the error message. Use <a class="el" href="group__common.html#ga0446e9253011a921665126e9f37016a1">GT_free()</a> to release the memory when done. May be <code>NULL</code>, in which case the error message is not returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>

</div>
</div>
<a class="anchor" id="gae918254645884f0dedd5960980c1c632"></a><!-- doxytag: member="gt_http.h::GTHTTP_setConnectTimeout" ref="gae918254645884f0dedd5960980c1c632" args="(int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTHTTP_setConnectTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>timeout</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the timeout to be used for subsequent HTTP requests for connecting to the server.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td><code></code>(in) - The timeout, in seconds. Pass zero to wait forever (no timeout), or negative to use the implementation default. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2144f61afab48c756df3441da928c53e"></a><!-- doxytag: member="gt_http.h::GTHTTP_setResponseTimeout" ref="ga2144f61afab48c756df3441da928c53e" args="(int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTHTTP_setResponseTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>timeout</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the timeout to be used for subsequent HTTP requests for getting a response from the server.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td><code></code>(in) - The timeout, in seconds. Pass zero to wait forever (no timeout), or negative to use the implementation default. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab5486f6fb276f651ced2fa029bace0f2"></a><!-- doxytag: member="gt_http.h::GTHTTP_verifyTimestampData" ref="gab5486f6fb276f651ced2fa029bace0f2" args="(const GTTimestamp *ts, const unsigned char *data, size_t data_len, const char *ext_url, GTTimestamp **ext_ts, const GTPublicationsFile *pub, const char *pub_url, int parse, GTVerificationInfo **ver)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_verifyTimestampData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *&#160;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"> <em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>ext_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **&#160;</td>
          <td class="paramname"> <em>ext_ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *&#160;</td>
          <td class="paramname"> <em>pub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>pub_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>parse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> **&#160;</td>
          <td class="paramname"> <em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Verifies the given timestamp using the given data and the publication file from the given URL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ts</td><td><code></code>(in) - The timestamp to be verified. </td></tr>
    <tr><td class="paramname">data</td><td><code></code>(in) - The data to check the timestamp against. </td></tr>
    <tr><td class="paramname">data_len</td><td><code></code>(in) - Length of the data. </td></tr>
    <tr><td class="paramname">ext_url</td><td><code></code>(in) - The URL of the extending service. If this is <code>NULL</code>, no extension is attempted. </td></tr>
    <tr><td class="paramname">ext_ts</td><td><code></code>(out) - The pointer that will receive a pointer to the extended timestamp if the timestamp is extended during verification. If no extension is performed, <code>*ext_ts</code> will be set to <code>NULL</code>. If <code>ext_ts</code> is <code>NULL</code>, the extended timestamp is discarded. </td></tr>
    <tr><td class="paramname">pub</td><td><code></code>(in) - The publications file. Exactly one of <code>pub</code> and <code>pub_url</code> must be non-<code>NULL</code>. </td></tr>
    <tr><td class="paramname">pub_url</td><td><code></code>(in) - The URL to get the publications file from. Exactly one of <code>pub</code> and <code>pub_url</code> must be non-<code>NULL</code>. </td></tr>
    <tr><td class="paramname">parse</td><td><code></code>(in) - The <code>explicit_data</code> field of the verification info will be filled if this is non-zero. </td></tr>
    <tr><td class="paramname">ver</td><td><code></code>(out) - Pointer that will receive pointer to verification info. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>On success <code>verification_errors</code> should still be checked. </dd></dl>

</div>
</div>
<a class="anchor" id="ga29c56b103ec317445b65f4ed80028313"></a><!-- doxytag: member="gt_http.h::GTHTTP_verifyTimestampHash" ref="ga29c56b103ec317445b65f4ed80028313" args="(const GTTimestamp *ts, const GTDataHash *hash, const char *ext_url, GTTimestamp **ext_ts, const GTPublicationsFile *pub, const char *pub_url, int parse, GTVerificationInfo **ver)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTHTTP_verifyTimestampHash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *&#160;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_g_t_message_digest__st.html">GTDataHash</a> *&#160;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>ext_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> **&#160;</td>
          <td class="paramname"> <em>ext_ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *&#160;</td>
          <td class="paramname"> <em>pub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>pub_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>parse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> **&#160;</td>
          <td class="paramname"> <em>ver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Verifies the given timestamp using the given data hash and the publication file from the given URL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ts</td><td><code></code>(in) - The timestamp to be verified. </td></tr>
    <tr><td class="paramname">hash</td><td><code></code>(in) - The data hash to check the timestamp against. </td></tr>
    <tr><td class="paramname">ext_url</td><td><code></code>(in) - The URL of the extending service. If this is <code>NULL</code>, no extension is attempted. </td></tr>
    <tr><td class="paramname">ext_ts</td><td><code></code>(out) - The pointer that will receive a pointer to the extended timestamp if the timestamp is extended during verification. If no extension is performed, <code>*ext_ts</code> will be set to <code>NULL</code>. If <code>ext_ts</code> is <code>NULL</code>, the extended timestamp is discarded. </td></tr>
    <tr><td class="paramname">pub</td><td><code></code>(in) - The publications file. Exactly one of <code>pub</code> and <code>pub_url</code> must be non-<code>NULL</code>. </td></tr>
    <tr><td class="paramname">pub_url</td><td><code></code>(in) - The URL to get the publications file from. Exactly one of <code>pub</code> and <code>pub_url</code> must be non-<code>NULL</code>. </td></tr>
    <tr><td class="paramname">parse</td><td><code></code>(in) - The <code>explicit_data</code> field of the verification info will be filled if this is non-zero. </td></tr>
    <tr><td class="paramname">ver</td><td><code></code>(out) - Pointer that will receive pointer to verification info. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code (<code>GT_OK</code>, when operation succeeded, otherwise an error code). </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>On success <code>verification_errors</code> should still be checked. </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 7 2010 16:12:24 for GuardTime Client SDK 0.3 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
