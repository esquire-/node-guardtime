<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GuardTime Client SDK 0.3: Verification</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Verification</h1>  </div>
</div>
<div class="contents">

<p>Functions to verify GuardTime timestamps.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_t_time_stamp_implicit__st.html">GTTimeStampImplicit_st</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the implicit data computed from a timestamp.  <a href="struct_g_t_time_stamp_implicit__st.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_t_hash_entry__st.html">GTHashEntry_st</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a helper structure to represent hash chains.  <a href="struct_g_t_hash_entry__st.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_t_signed_attribute__st.html">GTSignedAttribute_st</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a helper structure to represent a signed attribute and its value.  <a href="struct_g_t_signed_attribute__st.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_t_time_stamp_explicit__st.html">GTTimeStampExplicit_st</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the explicit data extracted from a timestamp.  <a href="struct_g_t_time_stamp_explicit__st.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo_st</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents verification info of a timestamp.  <a href="struct_g_t_verification_info__st.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8249a216b7eb29f9e91cb5c01365741e"></a><!-- doxytag: member="verification::GTTimeStampImplicit" ref="ga8249a216b7eb29f9e91cb5c01365741e" args="" -->
typedef struct <br class="typebreak"/>
<a class="el" href="struct_g_t_time_stamp_implicit__st.html">GTTimeStampImplicit_st</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga8249a216b7eb29f9e91cb5c01365741e">GTTimeStampImplicit</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the implicit data computed from a timestamp. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga95f30dc6daa4bd78d637c404c1d0cfa5"></a><!-- doxytag: member="verification::GTHashEntry" ref="ga95f30dc6daa4bd78d637c404c1d0cfa5" args="" -->
typedef struct <a class="el" href="struct_g_t_hash_entry__st.html">GTHashEntry_st</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga95f30dc6daa4bd78d637c404c1d0cfa5">GTHashEntry</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a helper structure to represent hash chains. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae2a2597c391b8d36404081ca98a27529"></a><!-- doxytag: member="verification::GTSignedAttribute" ref="gae2a2597c391b8d36404081ca98a27529" args="" -->
typedef struct <a class="el" href="struct_g_t_signed_attribute__st.html">GTSignedAttribute_st</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#gae2a2597c391b8d36404081ca98a27529">GTSignedAttribute</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a helper structure to represent a signed attribute and its value. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0f0e3ec7bdbfdcc9e376a73db6f8364c"></a><!-- doxytag: member="verification::GTTimeStampExplicit" ref="ga0f0e3ec7bdbfdcc9e376a73db6f8364c" args="" -->
typedef struct <br class="typebreak"/>
<a class="el" href="struct_g_t_time_stamp_explicit__st.html">GTTimeStampExplicit_st</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga0f0e3ec7bdbfdcc9e376a73db6f8364c">GTTimeStampExplicit</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the explicit data extracted from a timestamp. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga54ec3cb4a9e8bdfd7400116440e23b36"></a><!-- doxytag: member="verification::GTVerificationInfo" ref="ga54ec3cb4a9e8bdfd7400116440e23b36" args="" -->
typedef struct <br class="typebreak"/>
<a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo_st</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga54ec3cb4a9e8bdfd7400116440e23b36">GTVerificationInfo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents verification info of a timestamp. <br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga00f17574800248075712b4aa9a3faf93">GTVerificationError</a> { <br/>
&#160;&#160;<a class="el" href="group__verification.html#gga00f17574800248075712b4aa9a3faf93ad0b3e065d9489145ca8dde0e85995a23">GT_NO_FAILURES</a> =  0, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#gga00f17574800248075712b4aa9a3faf93a06490f6af403f17ad54bd9d6dcc1d26e">GT_SYNTACTIC_CHECK_FAILURE</a> =  1, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#gga00f17574800248075712b4aa9a3faf93a47ce39a1f75381a408a9b9b536f9d0d3">GT_HASHCHAIN_VERIFICATION_FAILURE</a> =  2, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#gga00f17574800248075712b4aa9a3faf93a499a52b5452a02af6a91257d45edb566">GT_PUBLIC_KEY_SIGNATURE_FAILURE</a> =  16, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#gga00f17574800248075712b4aa9a3faf93a258b08f5119a5fbd355b338afe836af0">GT_NOT_VALID_PUBLIC_KEY_FAILURE</a> =  64, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#gga00f17574800248075712b4aa9a3faf93aa27848e0a52ca7ec1d60192e1550fd0d">GT_WRONG_DOCUMENT_FAILURE</a> =  128, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#gga00f17574800248075712b4aa9a3faf93a90d79e59ed4b4925a4fce5766b0c515c">GT_NOT_VALID_PUBLICATION</a> =  256
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#gae269a951c7facac91b31ab799f9595d0">GTVerificationStatus</a> { <br/>
&#160;&#160;<a class="el" href="group__verification.html#ggae269a951c7facac91b31ab799f9595d0a7df57423a1d5add755fdb4c284a600ef">GT_PUBLIC_KEY_SIGNATURE_PRESENT</a> =  1, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#ggae269a951c7facac91b31ab799f9595d0a4c3c39acf3fee3df147d6b29623a26fa">GT_PUBLICATION_REFERENCE_PRESENT</a> =  2, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#ggae269a951c7facac91b31ab799f9595d0abb16c35d0476c33d6a97a820ec97ed66">GT_DOCUMENT_HASH_CHECKED</a> =  16, 
<br/>
&#160;&#160;<a class="el" href="group__verification.html#ggae269a951c7facac91b31ab799f9595d0af2557d8c2b53bc56273671fa78927eac">GT_PUBLICATION_CHECKED</a> =  32
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#gabb2faaa480064b6aad83582b80aa2c53">GTTimestamp_verify</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *timestamp, int parse_data, <a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> **verification_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga578626c0b001a90e666691f17f08f5c9">GTTimestamp_checkDocumentHash</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *timestamp, const <a class="el" href="struct_g_t_message_digest__st.html">GTDataHash</a> *data_hash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga7d73ddba1e350c4cfb7c65086f483be9">GTTimestamp_checkPublication</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *timestamp, const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *publications_file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga317e993f5755ea8aff80335ef252ee04">GTTimestamp_checkPublicKey</a> (const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *timestamp, <a class="el" href="group__common.html#ga4cc54826c21e0ed438d8e35be7039328">GT_Time_t64</a> history_identifier, const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *publications_file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga6c88243f78456ebc09cdc7854ade5589">GTVerificationInfo_print</a> (FILE *f, int indent, const <a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> *vinfo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__verification.html#ga39c2deaa12477a4a2ebadbe67672243e">GTVerificationInfo_free</a> (<a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> *verification_info)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Verification is the procedure of checking whether the data at hand matches the timestamp that is supposed to be proving its authenticity and whether the timestamp itself agrees with an external reference that is supposed to back it up.</p>
<p>This is also the preferred method of exposing information about timestamps, since they contain several pieces of information not easily interpretable unless parsed through a verification procedure.</p>
<p>The basic question about a timestamp is whether it is valid: </p>
<pre>
    GTTimestamp *gtTimestamp = ... // get the timestamp to verify
    GTVerificationInfo *gtVerificationInfo;
    int res = GTTimestamp_verify(gtTimestamp, 0, &amp;gtVerificationInfo);
    if (res == GT_OK &amp;&amp; gtVerificationInfo-&gt;verification_errors == GT_NO_FAILURES) {
        printf("Timestamp is valid!\n");
    } else {
        printf("Timestamp is NOT valid!\n");
    }
</pre><p>However, the above procedure only checks the internal consistency of the timestamp. To make something meaningful out of it, the timestamp also needs to be connected to the data which supposedly was timestamped, as well as to a GuardTime publication (see <a class="el" href="group__publications.html">Publications</a> for info regarding how and why to acquire a publication).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a>, <a class="el" href="group__common.html#ga96461884b56b666a19e99b5c872eb2a6" title="This structure represents hashed data.">GTDataHash</a>, <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a></dd></dl>
<p>The functions described in this group are declared in the <code><a class="el" href="gt__base_8h.html" title="GuardTime client SDK, public header file for base functions.">gt_base.h</a></code> header file and implemented in the <code>libgtbase</code> library. For more implementation and usage details, see the notes for the header file. </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga00f17574800248075712b4aa9a3faf93"></a><!-- doxytag: member="gt_base.h::GTVerificationError" ref="ga00f17574800248075712b4aa9a3faf93" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__verification.html#ga00f17574800248075712b4aa9a3faf93">GTVerificationError</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Timestamp verification error codes.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Values other than <code>GT_NO_FAILURES</code> are bit flags so that a single <code>int</code> can contain any combination of them. </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga00f17574800248075712b4aa9a3faf93ad0b3e065d9489145ca8dde0e85995a23"></a><!-- doxytag: member="GT_NO_FAILURES" ref="gga00f17574800248075712b4aa9a3faf93ad0b3e065d9489145ca8dde0e85995a23" args="" -->GT_NO_FAILURES</em>&nbsp;</td><td>
<p>The verification completed successfully. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga00f17574800248075712b4aa9a3faf93a06490f6af403f17ad54bd9d6dcc1d26e"></a><!-- doxytag: member="GT_SYNTACTIC_CHECK_FAILURE" ref="gga00f17574800248075712b4aa9a3faf93a06490f6af403f17ad54bd9d6dcc1d26e" args="" -->GT_SYNTACTIC_CHECK_FAILURE</em>&nbsp;</td><td>
<p>The level bytes inside the hash chains are improperly ordered. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga00f17574800248075712b4aa9a3faf93a47ce39a1f75381a408a9b9b536f9d0d3"></a><!-- doxytag: member="GT_HASHCHAIN_VERIFICATION_FAILURE" ref="gga00f17574800248075712b4aa9a3faf93a47ce39a1f75381a408a9b9b536f9d0d3" args="" -->GT_HASHCHAIN_VERIFICATION_FAILURE</em>&nbsp;</td><td>
<p>The hash chain computation result does not match the publication imprint. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga00f17574800248075712b4aa9a3faf93a499a52b5452a02af6a91257d45edb566"></a><!-- doxytag: member="GT_PUBLIC_KEY_SIGNATURE_FAILURE" ref="gga00f17574800248075712b4aa9a3faf93a499a52b5452a02af6a91257d45edb566" args="" -->GT_PUBLIC_KEY_SIGNATURE_FAILURE</em>&nbsp;</td><td>
<p>The <code>signed_data</code> structure is incorrectly composed, i.e. wrong data is signed or the signature does not match with the public key in the timestamp. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga00f17574800248075712b4aa9a3faf93a258b08f5119a5fbd355b338afe836af0"></a><!-- doxytag: member="GT_NOT_VALID_PUBLIC_KEY_FAILURE" ref="gga00f17574800248075712b4aa9a3faf93a258b08f5119a5fbd355b338afe836af0" args="" -->GT_NOT_VALID_PUBLIC_KEY_FAILURE</em>&nbsp;</td><td>
<p>Public key of signed timestamp is not found among published ones. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga00f17574800248075712b4aa9a3faf93aa27848e0a52ca7ec1d60192e1550fd0d"></a><!-- doxytag: member="GT_WRONG_DOCUMENT_FAILURE" ref="gga00f17574800248075712b4aa9a3faf93aa27848e0a52ca7ec1d60192e1550fd0d" args="" -->GT_WRONG_DOCUMENT_FAILURE</em>&nbsp;</td><td>
<p>Timestamp does not match with the document it is claimed to belong to. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga00f17574800248075712b4aa9a3faf93a90d79e59ed4b4925a4fce5766b0c515c"></a><!-- doxytag: member="GT_NOT_VALID_PUBLICATION" ref="gga00f17574800248075712b4aa9a3faf93a90d79e59ed4b4925a4fce5766b0c515c" args="" -->GT_NOT_VALID_PUBLICATION</em>&nbsp;</td><td>
<p>The publications file is inconsistent with the corresponding data in timestamp - publication identifiers do not match or published hash values do not match. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="gae269a951c7facac91b31ab799f9595d0"></a><!-- doxytag: member="gt_base.h::GTVerificationStatus" ref="gae269a951c7facac91b31ab799f9595d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__verification.html#gae269a951c7facac91b31ab799f9595d0">GTVerificationStatus</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Timestamp verification status codes.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The values are bit flags so that a single <code>int</code> can contain any combination of them. </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggae269a951c7facac91b31ab799f9595d0a7df57423a1d5add755fdb4c284a600ef"></a><!-- doxytag: member="GT_PUBLIC_KEY_SIGNATURE_PRESENT" ref="ggae269a951c7facac91b31ab799f9595d0a7df57423a1d5add755fdb4c284a600ef" args="" -->GT_PUBLIC_KEY_SIGNATURE_PRESENT</em>&nbsp;</td><td>
<p>The PKI signature was present in the timestamp. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae269a951c7facac91b31ab799f9595d0a4c3c39acf3fee3df147d6b29623a26fa"></a><!-- doxytag: member="GT_PUBLICATION_REFERENCE_PRESENT" ref="ggae269a951c7facac91b31ab799f9595d0a4c3c39acf3fee3df147d6b29623a26fa" args="" -->GT_PUBLICATION_REFERENCE_PRESENT</em>&nbsp;</td><td>
<p>A publication reference was present in the timestamp. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae269a951c7facac91b31ab799f9595d0abb16c35d0476c33d6a97a820ec97ed66"></a><!-- doxytag: member="GT_DOCUMENT_HASH_CHECKED" ref="ggae269a951c7facac91b31ab799f9595d0abb16c35d0476c33d6a97a820ec97ed66" args="" -->GT_DOCUMENT_HASH_CHECKED</em>&nbsp;</td><td>
<p>The timestamp was checked against the document hash. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae269a951c7facac91b31ab799f9595d0af2557d8c2b53bc56273671fa78927eac"></a><!-- doxytag: member="GT_PUBLICATION_CHECKED" ref="ggae269a951c7facac91b31ab799f9595d0af2557d8c2b53bc56273671fa78927eac" args="" -->GT_PUBLICATION_CHECKED</em>&nbsp;</td><td>
<p>The timestamp was checked against the publication data. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga578626c0b001a90e666691f17f08f5c9"></a><!-- doxytag: member="gt_base.h::GTTimestamp_checkDocumentHash" ref="ga578626c0b001a90e666691f17f08f5c9" args="(const GTTimestamp *timestamp, const GTDataHash *data_hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTTimestamp_checkDocumentHash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *&#160;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_g_t_message_digest__st.html">GTDataHash</a> *&#160;</td>
          <td class="paramname"> <em>data_hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compares the document hash extracted from the timestamp to the given one. This is used by the verification methods in the next layer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td><code></code>(in) - Pointer to the timestamp. </td></tr>
    <tr><td class="paramname">data_hash</td><td><code></code>(in) - Pointer to the data hash. The hash computation must be closed before the hash object can be passed to this function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code <code>GT_OK</code>, when operation succeeded, otherwise an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7d73ddba1e350c4cfb7c65086f483be9"></a><!-- doxytag: member="gt_base.h::GTTimestamp_checkPublication" ref="ga7d73ddba1e350c4cfb7c65086f483be9" args="(const GTTimestamp *timestamp, const GTPublicationsFile *publications_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTTimestamp_checkPublication </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *&#160;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *&#160;</td>
          <td class="paramname"> <em>publications_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks that the publication extracted from the timestamp is listed in the given publications file. This is used by the verification methods in the next layer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td><code></code>(in) - Pointer to the timestamp. </td></tr>
    <tr><td class="paramname">publications_file</td><td><code></code>(in) - Pointer to the publications file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code <code>GT_OK</code>, when operation succeeded, otherwise an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga317e993f5755ea8aff80335ef252ee04"></a><!-- doxytag: member="gt_base.h::GTTimestamp_checkPublicKey" ref="ga317e993f5755ea8aff80335ef252ee04" args="(const GTTimestamp *timestamp, GT_Time_t64 history_identifier, const GTPublicationsFile *publications_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTTimestamp_checkPublicKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *&#160;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__common.html#ga4cc54826c21e0ed438d8e35be7039328">GT_Time_t64</a>&#160;</td>
          <td class="paramname"> <em>history_identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__publications.html#gacf561fdbce4067eb94bd9761a71e7e5a">GTPublicationsFile</a> *&#160;</td>
          <td class="paramname"> <em>publications_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks that the key used to sign the the timestamp is listed in the given publications file and was valid when the timestamp was issued. This is used by the verification methods in the next layer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td><code></code>(in) - Pointer to the timestamp. </td></tr>
    <tr><td class="paramname">history_identifier</td><td><code></code>(in) - Timestamp registration time. </td></tr>
    <tr><td class="paramname">publications_file</td><td><code></code>(in) - Pointer to the publications file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code <code>GT_OK</code>, when operation succeeded, otherwise an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gabb2faaa480064b6aad83582b80aa2c53"></a><!-- doxytag: member="gt_base.h::GTTimestamp_verify" ref="gabb2faaa480064b6aad83582b80aa2c53" args="(const GTTimestamp *timestamp, int parse_data, GTVerificationInfo **verification_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GTTimestamp_verify </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__timestamps.html#gaddb792efe52216386853c94e7aeaf6ba">GTTimestamp</a> *&#160;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>parse_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> **&#160;</td>
          <td class="paramname"> <em>verification_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks whether the timestamp is internally consistent. This is used by the verification methods in the next layer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td><code></code>(in) - Pointer to the timestamp that is to be verified. </td></tr>
    <tr><td class="paramname">parse_data</td><td><code></code>(in) - The <code>explicit_data</code> field of the verification info will be filled if this is non-zero. </td></tr>
    <tr><td class="paramname">verification_info</td><td><code></code>(out) - Pointer that will receive pointer to verification info.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status code <code>GT_OK</code>, when operation succeeded, otherwise an error code. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>On success <code>verification_errors</code> should still be checked. </dd></dl>

</div>
</div>
<a class="anchor" id="ga39c2deaa12477a4a2ebadbe67672243e"></a><!-- doxytag: member="gt_base.h::GTVerificationInfo_free" ref="ga39c2deaa12477a4a2ebadbe67672243e" args="(GTVerificationInfo *verification_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTVerificationInfo_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> *&#160;</td>
          <td class="paramname"> <em>verification_info</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees memory used by verification info.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">verification_info</td><td><code></code>(in) - <code>GTVerificationInfo</code> object that is to be freed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__common.html#ga0446e9253011a921665126e9f37016a1">GT_free()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga6c88243f78456ebc09cdc7854ade5589"></a><!-- doxytag: member="gt_base.h::GTVerificationInfo_print" ref="ga6c88243f78456ebc09cdc7854ade5589" args="(FILE *f, int indent, const GTVerificationInfo *vinfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GTVerificationInfo_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_g_t_verification_info__st.html">GTVerificationInfo</a> *&#160;</td>
          <td class="paramname"> <em>vinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function to print contents of the GTVerificationInfo structure to the given output file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td><code></code>(in) - Pointer to the output stream. </td></tr>
    <tr><td class="paramname">indent</td><td><code></code>(in) - Number of spaces to put before each output line. </td></tr>
    <tr><td class="paramname">vinfo</td><td><code></code>(in) - Pointer to the verification info structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 7 2010 16:12:24 for GuardTime Client SDK 0.3 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
